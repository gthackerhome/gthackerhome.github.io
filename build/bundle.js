var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function m(){return f(" ")}function h(){return f("")}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}class g{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=a(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)c(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(i)}}let $;function w(t){$=t}function y(t){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(t)}const v=[],b=[],_=[],x=[],T=Promise.resolve();let k=!1;function E(t){_.push(t)}let q=!1;const N=new Set;function z(){if(!q){q=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];w(e),M(e.$$)}for(v.length=0;b.length;)b.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];N.has(e)||(N.add(e),e())}_.length=0}while(v.length);for(;x.length;)x.pop()();k=!1,q=!1,N.clear()}}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const A=new Set;let j;function B(){j={r:0,c:[],p:j}}function C(){j.r||o(j.c),j=j.p}function L(t,e){t&&t.i&&(A.delete(t),t.i(e))}function O(t,e,n,o){if(t&&t.o){if(A.has(t))return;A.add(t),j.c.push(()=>{A.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const S="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(t){t&&t.c()}function D(t,n,s){const{fragment:l,on_mount:c,on_destroy:i,after_update:u}=t.$$;l&&l.m(n,s),E(()=>{const n=c.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(E)}function F(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(v.push(t),k||(k=!0,T.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,r,s,l,c,u,a=[-1]){const f=$;w(e);const m=r.props||{},h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:a};let d=!1;if(h.ctx=s?s(e,m,(t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),d&&H(e,t)),n}):[],h.update(),d=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(i)}else h.fragment&&h.fragment.c();r.intro&&L(e.$$.fragment),D(e,r.target,r.anchor),z()}w(f)}class U{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function G(e){let n,o,r,s,u,h,g,$,w,y,v,b,_,x,T,k,E=e[1]+e[2]+1+"",q=e[0].title+"",N=e[4]()+"",z=e[0].author+"",M=e[5]()+"";return{c(){n=a("article"),o=a("span"),r=f(E),s=m(),u=a("h2"),h=a("a"),g=f(q),$=m(),w=a("p"),y=a("a"),v=f(N),_=f(" by "),x=f(z),T=m(),k=f(M),d(o,"class","svelte-iq2nst"),d(h,"target","_blank"),d(h,"href",e[3]),d(h,"class","svelte-iq2nst"),d(u,"class","svelte-iq2nst"),d(y,"href",b="#/item/"+e[0].id),d(y,"class","svelte-iq2nst"),d(w,"class","meta"),d(n,"class","svelte-iq2nst")},m(t,e){c(t,n,e),l(n,o),l(o,r),l(n,s),l(n,u),l(u,h),l(h,g),l(n,$),l(n,w),l(w,y),l(y,v),l(w,_),l(w,x),l(w,T),l(w,k)},p(t,[e]){6&e&&E!==(E=t[1]+t[2]+1+"")&&p(r,E),1&e&&q!==(q=t[0].title+"")&&p(g,q),8&e&&d(h,"href",t[3]),1&e&&b!==(b="#/item/"+t[0].id)&&d(y,"href",b),1&e&&z!==(z=t[0].author+"")&&p(x,z)},i:t,o:t,d(t){t&&i(n)}}}function I(t,e,n){let o,{item:r}=e,{i:s}=e,{offset:l}=e;return t.$set=t=>{"item"in t&&n(0,r=t.item),"i"in t&&n(1,s=t.i),"offset"in t&&n(2,l=t.offset)},t.$$.update=()=>{1&t.$$.dirty&&n(3,o="ask"===r.type?"https://news.ycombinator.com/"+r.url:r.url)},[r,s,l,o,function(){const t=r.descendents;return`${t} ${1===t?"comment":"comments"}`},function(){const t=Math.floor(Date.now()/1e3)-r.time;return t<60?""+t:t<3600?Math.floor(t/60)+" minutes ago":t<86400?Math.floor(t/3600)+" hours ago":Math.floor(t/86400)+" days ago"}]}class J extends U{constructor(t){super(),P(this,t,I,G,s,{item:0,i:1,offset:2})}}function K(t,e,n){const o=t.slice();return o[4]=e[n],o[6]=n,o}function Q(e){let n;return{c(){n=a("p"),n.textContent="loading...",d(n,"class","loading svelte-1gm06r8")},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&i(n)}}}function R(t){let e,n,o,r=t[1],s=[];for(let e=0;e<r.length;e+=1)s[e]=V(K(t,r,e));const l=t=>O(s[t],1,1,()=>{s[t]=null});let a=Z*(t[0]-1)+Z<t[3]&&X(t);return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=m(),a&&a.c(),n=h()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);c(t,e,r),a&&a.m(t,r),c(t,n,r),o=!0},p(t,o){if(6&o){let n;for(r=t[1],n=0;n<r.length;n+=1){const l=K(t,r,n);s[n]?(s[n].p(l,o),L(s[n],1)):(s[n]=V(l),s[n].c(),L(s[n],1),s[n].m(e.parentNode,e))}for(B(),n=r.length;n<s.length;n+=1)l(n);C()}Z*(t[0]-1)+Z<t[3]?a?a.p(t,o):(a=X(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(t){if(!o){for(let t=0;t<r.length;t+=1)L(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)O(s[t]);o=!1},d(t){u(s,t),t&&i(e),a&&a.d(t),t&&i(n)}}}function V(t){let e,n;return e=new J({props:{item:t[4],i:t[6],offset:t[2]}}),{c(){W(e.$$.fragment)},m(t,o){D(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.item=t[4]),4&n&&(o.offset=t[2]),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function X(t){let e,n,o,r,s=t[0]+1+"";return{c(){e=a("a"),n=f("page "),o=f(s),d(e,"href",r="#/top/"+(t[0]+1)),d(e,"class","svelte-1gm06r8")},m(t,r){c(t,e,r),l(e,n),l(e,o)},p(t,n){1&n&&s!==(s=t[0]+1+"")&&p(o,s),1&n&&r!==(r="#/top/"+(t[0]+1))&&d(e,"href",r)},d(t){t&&i(e)}}}function Y(t){let e,n,o,r;const s=[R,Q],l=[];function u(t,e){return t[1]?0:1}return e=u(t),n=l[e]=s[e](t),{c(){n.c(),o=h()},m(t,n){l[e].m(t,n),c(t,o,n),r=!0},p(t,[r]){let c=e;e=u(t),e===c?l[e].p(t,r):(B(),O(l[c],1,1,()=>{l[c]=null}),C(),n=l[e],n||(n=l[e]=s[e](t),n.c()),L(n,1),n.m(o.parentNode,o))},i(t){r||(L(n),r=!0)},o(t){O(n),r=!1},d(t){l[e].d(t),t&&i(o)}}}const Z=40;function tt(t,e,n){let o,r,s,{page:l}=e;return t.$set=t=>{"page"in t&&n(0,l=t.page)},t.$$.update=()=>{1&t.$$.dirty&&fetch("https://greetez.com:4343/item_api/posts").then(t=>t.json()).then(t=>{n(3,s=t.length),n(1,o=t.slice(Z*(l-1),Z*(l-1)+Z)),n(2,r=Z*(l-1)),window.scrollTo(0,0),console.log(t)})},[l,o,r,s]}class et extends U{constructor(t){super(),P(this,t,tt,Y,s,{page:0})}}function nt(t,e,n){const o=t.slice();return o[1]=e[n],o}function ot(t){let e,n;return e=new lt({props:{comment:t[1]}}),{c(){W(e.$$.fragment)},m(t,o){D(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.comment=t[1]),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function rt(t){let e,n,o,r,s,h,$,w,y,v,b=t[0].user+"",_=t[0].time_ago+"",x=t[0].content+"",T=t[0].comments,k=[];for(let e=0;e<T.length;e+=1)k[e]=ot(nt(t,T,e));const E=t=>O(k[t],1,1,()=>{k[t]=null});return{c(){e=a("article"),n=a("p"),o=f(b),r=m(),s=f(_),h=m(),w=m(),y=a("div");for(let t=0;t<k.length;t+=1)k[t].c();d(n,"class","meta svelte-1v1ma1k"),$=new g(w),d(y,"class","replies svelte-1v1ma1k"),d(e,"class","svelte-1v1ma1k")},m(t,i){c(t,e,i),l(e,n),l(n,o),l(n,r),l(n,s),l(e,h),$.m(x,e),l(e,w),l(e,y);for(let t=0;t<k.length;t+=1)k[t].m(y,null);v=!0},p(t,[e]){if((!v||1&e)&&b!==(b=t[0].user+"")&&p(o,b),(!v||1&e)&&_!==(_=t[0].time_ago+"")&&p(s,_),(!v||1&e)&&x!==(x=t[0].content+"")&&$.p(x),1&e){let n;for(T=t[0].comments,n=0;n<T.length;n+=1){const o=nt(t,T,n);k[n]?(k[n].p(o,e),L(k[n],1)):(k[n]=ot(o),k[n].c(),L(k[n],1),k[n].m(y,null))}for(B(),n=T.length;n<k.length;n+=1)E(n);C()}},i(t){if(!v){for(let t=0;t<T.length;t+=1)L(k[t]);v=!0}},o(t){k=k.filter(Boolean);for(let t=0;t<k.length;t+=1)O(k[t]);v=!1},d(t){t&&i(e),u(k,t)}}}function st(t,e,n){let{comment:o}=e;return t.$set=t=>{"comment"in t&&n(0,o=t.comment)},[o]}class lt extends U{constructor(t){super(),P(this,t,st,rt,s,{comment:0})}}function ct(t,e,n){const o=t.slice();return o[3]=e[n],o}function it(t){let e,n,o=t[0].domain+"";return{c(){e=a("small"),n=f(o)},m(t,o){c(t,e,o),l(e,n)},p(t,e){1&e&&o!==(o=t[0].domain+"")&&p(n,o)},d(t){t&&i(e)}}}function ut(t){let e,n;return e=new lt({props:{comment:t[3]}}),{c(){W(e.$$.fragment)},m(t,o){D(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.comment=t[3]),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function at(t){let e,n,o,r,s,h,g,$,w,y,v,b,_,x,T,k,E,q=t[0].title+"",N=t[0].user+"",z=t[0].time_ago+"",M=t[0].domain&&it(t),A=t[0].comments,j=[];for(let e=0;e<A.length;e+=1)j[e]=ut(ct(t,A,e));const S=t=>O(j[t],1,1,()=>{j[t]=null});return{c(){e=a("a"),n=f("Â« back"),o=m(),r=a("article"),s=a("a"),h=a("h1"),g=f(q),$=m(),M&&M.c(),w=m(),y=a("p"),v=f("submitted by "),b=f(N),_=m(),x=f(z),T=m(),k=a("div");for(let t=0;t<j.length;t+=1)j[t].c();d(e,"href",t[1]),d(e,"class","svelte-106zs3f"),d(h,"class","svelte-106zs3f"),d(s,"href",t[2]),d(s,"class","svelte-106zs3f"),d(y,"class","meta"),d(r,"class","svelte-106zs3f"),d(k,"class","comments")},m(t,i){c(t,e,i),l(e,n),c(t,o,i),c(t,r,i),l(r,s),l(s,h),l(h,g),l(s,$),M&&M.m(s,null),l(r,w),l(r,y),l(y,v),l(y,b),l(y,_),l(y,x),c(t,T,i),c(t,k,i);for(let t=0;t<j.length;t+=1)j[t].m(k,null);E=!0},p(t,[n]){if((!E||2&n)&&d(e,"href",t[1]),(!E||1&n)&&q!==(q=t[0].title+"")&&p(g,q),t[0].domain?M?M.p(t,n):(M=it(t),M.c(),M.m(s,null)):M&&(M.d(1),M=null),(!E||4&n)&&d(s,"href",t[2]),(!E||1&n)&&N!==(N=t[0].user+"")&&p(b,N),(!E||1&n)&&z!==(z=t[0].time_ago+"")&&p(x,z),1&n){let e;for(A=t[0].comments,e=0;e<A.length;e+=1){const o=ct(t,A,e);j[e]?(j[e].p(o,n),L(j[e],1)):(j[e]=ut(o),j[e].c(),L(j[e],1),j[e].m(k,null))}for(B(),e=A.length;e<j.length;e+=1)S(e);C()}},i(t){if(!E){for(let t=0;t<A.length;t+=1)L(j[t]);E=!0}},o(t){j=j.filter(Boolean);for(let t=0;t<j.length;t+=1)O(j[t]);E=!1},d(t){t&&i(e),t&&i(o),t&&i(r),M&&M.d(),t&&i(T),t&&i(k),u(j,t)}}}function ft(t,e,n){let o,{item:r}=e,{returnTo:s}=e;return t.$set=t=>{"item"in t&&n(0,r=t.item),"returnTo"in t&&n(1,s=t.returnTo)},t.$$.update=()=>{1&t.$$.dirty&&n(2,o=r.domain?r.url:"https://news.ycombinator.com/"+r.url)},[r,s,o]}class mt extends U{constructor(t){super(),P(this,t,ft,at,s,{item:0,returnTo:1})}}const{window:ht}=S;function dt(t){let e,n;return e=new et({props:{page:t[1]}}),{c(){W(e.$$.fragment)},m(t,o){D(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.page=t[1]),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function pt(t){let e,n;return e=new mt({props:{item:t[0],returnTo:"#/top/"+t[1]}}),{c(){W(e.$$.fragment)},m(t,o){D(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.item=t[0]),2&n&&(o.returnTo="#/top/"+t[1]),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){O(e.$$.fragment,t),n=!1},d(t){F(e,t)}}}function gt(t){let e,n,o,r,s,l;const u=[pt,dt],f=[];function m(t,e){return t[0]?0:t[1]?1:-1}return~(n=m(t))&&(o=f[n]=u[n](t)),{c(){e=a("main"),o&&o.c(),d(e,"class","svelte-qquc9")},m(o,i){var u,a,m,h;c(o,e,i),~n&&f[n].m(e,null),r=!0,s||(u=ht,a="hashchange",m=t[2],u.addEventListener(a,m,h),l=()=>u.removeEventListener(a,m,h),s=!0)},p(t,[r]){let s=n;n=m(t),n===s?~n&&f[n].p(t,r):(o&&(B(),O(f[s],1,1,()=>{f[s]=null}),C()),~n?(o=f[n],o||(o=f[n]=u[n](t),o.c()),L(o,1),o.m(e,null)):o=null)},i(t){r||(L(o),r=!0)},o(t){O(o),r=!1},d(t){t&&i(e),~n&&f[n].d(),s=!1,l()}}}function $t(t,e,n){let o,r;async function s(){const t=window.location.hash.slice(1);if(t.startsWith("/item")){const e=t.slice(6);n(0,o=await fetch("https://node-hnapi.herokuapp.com/item/"+e).then(t=>t.json())),window.scrollTo(0,0)}else t.startsWith("/top")?(n(1,r=+t.slice(5)),n(0,o=null)):window.location.hash="/top/1"}return y(s),window.onload=showUsername(),[o,r,s]}return new class extends U{constructor(t){super(),P(this,t,$t,gt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
